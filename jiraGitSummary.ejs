     TITLE: <%-config.title%>
      DATE: <%-new Date().toString()%>
JIRA QUERY: <%-config.query%>
 GIT REPOS: <%-commits.gitRepos.toString()%>

OVERALL SUMMARY

  Name                 Work Items  Story Points  Commits
  -------------------------------------------------------------
<% for (assignee in summary) {%>
  <%-utils.tableCell(assignee, 20)%> <%-utils.tableCell(summary[assignee].workItems.toString(), 12)%><%-utils.tableCell(summary[assignee].storyPoints.toString(), 14)%><%-summary[assignee].commitTotals%><% } %>


SUMMARY BY ASSIGNEE BY MONTH

  Name                 Work Items  Story Points  Commits
  -------------------------------------------------------------
<% for (assignee in summary) {%>
  <%-utils.tableCell(assignee, 20)%> <%-utils.tableCell(summary[assignee].workItems.toString(), 12)%><%-utils.tableCell(summary[assignee].storyPoints.toString(), 14)%><%-summary[assignee].commitTotals%>
	<% for (month in summary[assignee].details) { 

	var sp = _.sumBy(summary[assignee].details[month], 
		function(obj) { 
			return obj.fields.customfield_10105;
		})

  if (sp == "") sp = 0;
  if (sp == undefined) sp = 0;

	%>
    <%-utils.tableCell(month,18)%> <%-utils.tableCell(summary[assignee].details[month].length.toString(),11)%> <%-utils.tableCell(sp.toString(), 13)%> <%-commits.users[assignee].commits[month]%><%}%>
  
    -------
<% } %>


JIRA DETAILS BY ASSIGNEE BY MONTH
<% for (assignee in summary) {%>
        Name: <%=assignee%> 
  Work Items: <%=summary[assignee].workItems%> 
Story Points: <%=summary[assignee].storyPoints%>
<% for (month in summary[assignee].details) { %>
  Month: <%=month%> (<%=summary[assignee].details[month].length%>)

    Key          Issue Type   Story Points Description
    -------------------------------------------------------------------------------------------
    <%summary[assignee].details[month].forEach(function(item) {
        var sp = item.fields.customfield_10105 || 0;
    %>
    <%=utils.tableCell(item.key, 12)%> <%-utils.tableCell(item.fields.issuetype.name, 12)%> <%-utils.tableCell(sp.toString(), 12)%> <%-item.fields.summary%><%})%>

<% } %>
<% } %>

GIT COMMIT SUMMARY BY COMMITTER BY MONTH
<% for (name in gitDetails) {%>
Name: <%-name%>
<% var ar = [];
    for (month in gitDetails[name]) {
      if (monthsMaster.indexOf(month) >= 0) { ar.push(month);  } } ar.sort();
%>
    Month    Count
    -----------------
  <% ar.forEach(function(month) {%>
    <%-utils.tableCell(month, 8)%> <%-gitDetails[name][month].length%><%})%>
<%}%>


GIT COMMIT DETAILS BY COMMITTER BY MONTH
<% for (name in gitDetails) {%>
Name: <%-name%>
<% var ar = [];
    for (month in gitDetails[name]) {
      if (monthsMaster.indexOf(month) >= 0) {
        ar.push(month);
      }
    }
    ar.sort();
%>
  <% ar.forEach(function(month) {%><% var details = gitDetails[name][month].sort(function(a,b) { return a.date.localeCompare(b.date) })%>
    Month: <%-month%> (<%-gitDetails[name][month].length%>)
        <% details.forEach(function(commit) {%>
          <%-commit.date.substring(0,10)%> <%-commit.author_name%> [<%-commit.repo.substr(commit.repo.lastIndexOf('/') + 1)%>] <%-commit.message%><%})%>
    <%})%>
<%}%>



